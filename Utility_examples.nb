(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     82326,       2644]
NotebookOptionsPosition[     71667,       2298]
NotebookOutlinePosition[     72570,       2330]
CellTagsIndexPosition[     72400,       2323]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell["\<\
For evaluating any of the examples in this notebook, one has to load the \
Utility package:\
\>", "Text",
 CellChangeTimes->{{3.6061327785932283`*^9, 3.606132835153154*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"$Path", "=", 
   RowBox[{"DeleteDuplicates", "@", 
    RowBox[{"Append", "[", 
     RowBox[{"$Path", ",", 
      RowBox[{"NotebookDirectory", "[", "]"}]}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"<<", "Utility`"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6061327708198433`*^9, 3.60613277187703*^9}, {
  3.606191420060368*^9, 3.606191421160811*^9}}],

Cell["All functions defined in the Utility` context:", "Text",
 CellChangeTimes->{{3.6061327785932283`*^9, 3.606132835153154*^9}, {
  3.606134801222459*^9, 3.606134820566264*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "Utility`*"}]], "Input",
 CellChangeTimes->{{3.606134822752797*^9, 3.606134826297391*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 DynamicModuleBox[{Typeset`open$$ = True}, 
  PaneSelectorBox[{False->
   RowBox[{
    OpenerBox[Dynamic[Typeset`open$$],
     ImageSize->Small], 
    StyleBox["Utility`", "InfoHeading"]}], True->GridBox[{
     {
      RowBox[{
       OpenerBox[Dynamic[Typeset`open$$],
        ImageSize->Small], 
       StyleBox["Utility`", "InfoHeading"]}]},
     {GridBox[{
        {
         ButtonBox["Activate",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"Activate", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["getAllVariables",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"getAllVariables", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["seperateIntegrate",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"seperateIntegrate", "Utility`"}},
          ButtonNote->"Utility`"]},
        {
         ButtonBox["alternative",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"alternative", "Utility`"}},
          
          ButtonNote->"Utility`"], 
         ButtonBox["Inactivate",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"Inactivate", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["set",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"set", "Utility`"}},
          ButtonNote->"Utility`"]},
        {
         ButtonBox["declareIndexed",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"declareIndexed", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["integrate",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"integrate", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["sign",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"sign", "Utility`"}},
          ButtonNote->"Utility`"]},
        {
         ButtonBox["declareIndexedAM",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"declareIndexedAM", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["invertArguments",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"invertArguments", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["simplifyIntegrateRules",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"simplifyIntegrateRules", "Utility`"}},
          ButtonNote->"Utility`"]},
        {
         ButtonBox["declareIndexedPrimed",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"declareIndexedPrimed", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["normalizeSumRule",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"normalizeSumRule", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["simplifySeperateIntegrateRules",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {
            "simplifySeperateIntegrateRules", "Utility`"}},
          ButtonNote->"Utility`"]},
        {
         ButtonBox["declarePrimed",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"declarePrimed", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["OddPermutations",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"OddPermutations", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["simplifySumIntegrate",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"simplifySumIntegrate", "Utility`"}},
          ButtonNote->"Utility`"]},
        {
         ButtonBox["ensureSignQ",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"ensureSignQ", "Utility`"}},
          
          ButtonNote->"Utility`"], 
         ButtonBox["removeBlanks",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"removeBlanks", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["simplifySumRules",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"simplifySumRules", "Utility`"}},
          ButtonNote->"Utility`"]},
        {
         ButtonBox["evenPermM",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"evenPermM", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["removeSign",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"removeSign", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["speM",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"speM", "Utility`"}},
          ButtonNote->"Utility`"]},
        {
         ButtonBox["EvenPermutations",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"EvenPermutations", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["replaceUnique",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"replaceUnique", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["sum",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"sum", "Utility`"}},
          ButtonNote->"Utility`"]},
        {
         ButtonBox["FreeQAll",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"FreeQAll", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["ruleJoin",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"ruleJoin", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["tochar",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"tochar", "Utility`"}},
          ButtonNote->"Utility`"]},
        {
         ButtonBox["FreeQAllUnsigned",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"FreeQAllUnsigned", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["ruleSplit",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"ruleSplit", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["tonum",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"tonum", "Utility`"}},
          ButtonNote->"Utility`"]},
        {
         ButtonBox["FreeQNone",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"FreeQNone", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["ruleToFunction",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"ruleToFunction", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["unsM",
          BaseStyle->"InformationLink",
          ButtonData:>{"Info3615724325-3295176", {"unsM", "Utility`"}},
          ButtonNote->"Utility`"]},
        {
         ButtonBox["FreeQNoneUnsigned",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"FreeQNoneUnsigned", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["ruleToFunctionRepeated",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"ruleToFunctionRepeated", "Utility`"}},
          ButtonNote->"Utility`"], 
         ButtonBox["$altFunctionList",
          BaseStyle->"InformationLink",
          
          ButtonData:>{
           "Info3615724325-3295176", {"$altFunctionList", "Utility`"}},
          ButtonNote->"Utility`"]}
       },
       DefaultBaseStyle->"InfoGrid",
       GridBoxItemSize->{"Columns" -> {{
            Scaled[0.31666666666666665`]}}}]}
    },
    GridBoxAlignment->{"Columns" -> {{Left}}, "Rows" -> {{Baseline}}}]}, 
   Dynamic[Typeset`open$$],
   ImageSize->Automatic]]], "Print", "InfoCell",
 CellChangeTimes->{3.6157171251303377`*^9}],

Cell[BoxData[
 StyleBox["\<\"speM[a] is a special pattern, which provides similar features \
as ensureSignQ:\\nFor instance the pattern f[speM[a],speM[-a]] matches \
f[a,-a] or f[-b,b]. It does not match f[b,-c], f[-a,-a] or f[a,a].\\nFor \
rules, either the symbol \\\"apos\\\" or \\\"aneg\\\" is defined, when the \
rule matches. The other is defined as Sequence[].\"\>", "MSG"]], "Print", \
"PrintUsage",
 CellTags->"Info3615724325-3295176"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Pattern Matching", "Section",
 CellChangeTimes->{{3.606133302338048*^9, 3.606133305266151*^9}}],

Cell["\<\
In this section various functions useful for pattern matching are presented.\
\>", "Text",
 CellChangeTimes->{{3.606133317777687*^9, 3.606133331745942*^9}}],

Cell["\<\
One particular annoying example is the following rule:\
\>", "Text",
 CellChangeTimes->{{3.606193558727981*^9, 3.606193592407723*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"rule", "=", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{"a_", ",", 
      RowBox[{"-", "a_"}]}], "]"}], "\[RuleDelayed]", " ", 
    RowBox[{"G", "[", "a", "]"}]}]}], ";"}]], "Input",
 CellChangeTimes->{{3.606193593848092*^9, 3.606193619485084*^9}, {
  3.6061936916455097`*^9, 3.6061936959001703`*^9}, {3.60619438266998*^9, 
  3.606194383405799*^9}}],

Cell["\<\
One wants to transform the function \[OpenCurlyDoubleQuote]f\
\[CloseCurlyDoubleQuote], if both arguments have the opposite sign.
However, this only matches if the first argument is positive:\
\>", "Text",
 CellChangeTimes->{{3.606193630344117*^9, 3.606193677752146*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{"u", ",", 
    RowBox[{"-", "u"}]}], "]"}], "/.", "rule"}]], "Input",
 CellChangeTimes->{{3.606193680708572*^9, 3.606193687323803*^9}}],

Cell[BoxData[
 RowBox[{"G", "[", "u", "]"}]], "Output",
 CellChangeTimes->{{3.6061936877841263`*^9, 3.606193699910584*^9}, 
   3.6061943848964577`*^9}]
}, Open  ]],

Cell["\<\
Inverting both arguments, the rule fails:\
\>", "Text",
 CellChangeTimes->{{3.606193705320067*^9, 3.6061937173210297`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{
    RowBox[{"-", "u"}], ",", "u"}], "]"}], "/.", "rule"}]], "Input",
 CellChangeTimes->{{3.606193725829267*^9, 3.606193730011633*^9}}],

Cell[BoxData[
 RowBox[{"f", "[", 
  RowBox[{
   RowBox[{"-", "u"}], ",", "u"}], "]"}]], "Output",
 CellChangeTimes->{3.606193730646618*^9}]
}, Open  ]],

Cell["\<\
In the Utility package we have two possible solutions to that, the first one \
is a special matching function. \
\>", "Text",
 CellChangeTimes->{{3.606193739000021*^9, 3.606193791880068*^9}, {
  3.606193975769014*^9, 3.606194021400353*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"ruleSpecial", "=", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{
      RowBox[{"speM", "[", "a", "]"}], ",", 
      RowBox[{"speM", "[", 
       RowBox[{"-", "a"}], "]"}]}], "]"}], "\[RuleDelayed]", " ", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Length", "[", 
        RowBox[{"{", "apos", "}"}], "]"}], ">", "0"}], ",", 
      RowBox[{"G", "[", "apos", "]"}], ",", 
      RowBox[{"G", "[", 
       RowBox[{"-", "aneg"}], "]"}]}], "]"}]}]}], ";"}]], "Input",
 CellChangeTimes->{{3.6061937345315657`*^9, 3.606193735817986*^9}, {
  3.60619379674937*^9, 3.6061938196938047`*^9}, {3.606194044879177*^9, 
  3.606194049359322*^9}, {3.6061943891496897`*^9, 3.60619438980709*^9}, {
  3.606194440447639*^9, 3.606194486461884*^9}}],

Cell["\<\
However, this enforces a special naming scheme.
Depending on the combination of signs  \[OpenCurlyDoubleQuote]apos\
\[CloseCurlyDoubleQuote] or \[OpenCurlyDoubleQuote]aneg\
\[CloseCurlyDoubleQuote] are defined if the original pattern name is \
\[OpenCurlyDoubleQuote]a\[CloseCurlyDoubleQuote]. If someone has an idea how \
to assign the value to the original pattern name, please let me know!
This now works as expected:\
\>", "Text",
 CellChangeTimes->{{3.606193839576812*^9, 3.606193846888391*^9}, {
  3.606193893336067*^9, 3.606193895336022*^9}, {3.606194022378179*^9, 
  3.6061940765049257`*^9}, {3.60619420157723*^9, 3.6061942410647497`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{"u", ",", 
    RowBox[{"-", "u"}]}], "]"}], "/.", "ruleSpecial"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{
    RowBox[{"-", "u"}], ",", "u"}], "]"}], "/.", 
  "ruleSpecial"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{"u", ",", "u"}], "]"}], "/.", 
  "ruleSpecial"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{
    RowBox[{"-", "u"}], ",", 
    RowBox[{"-", "u"}]}], "]"}], "/.", "ruleSpecial"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{"a", ",", "b"}], "]"}], "/.", "ruleSpecial"}]}], "Input",
 CellChangeTimes->{{3.606193848218602*^9, 3.606193886201829*^9}}],

Cell[BoxData[
 RowBox[{"G", "[", "u", "]"}]], "Output",
 CellChangeTimes->{{3.606193866038415*^9, 3.606193886758895*^9}, 
   3.606194141981546*^9, 3.6061942581358023`*^9, 3.606194391207417*^9, 
   3.606194488583735*^9}],

Cell[BoxData[
 RowBox[{"G", "[", 
  RowBox[{"-", "u"}], "]"}]], "Output",
 CellChangeTimes->{{3.606193866038415*^9, 3.606193886758895*^9}, 
   3.606194141981546*^9, 3.6061942581358023`*^9, 3.606194391207417*^9, 
   3.60619448858636*^9}],

Cell[BoxData[
 RowBox[{"f", "[", 
  RowBox[{"u", ",", "u"}], "]"}]], "Output",
 CellChangeTimes->{{3.606193866038415*^9, 3.606193886758895*^9}, 
   3.606194141981546*^9, 3.6061942581358023`*^9, 3.606194391207417*^9, 
   3.6061944885884666`*^9}],

Cell[BoxData[
 RowBox[{"f", "[", 
  RowBox[{
   RowBox[{"-", "u"}], ",", 
   RowBox[{"-", "u"}]}], "]"}]], "Output",
 CellChangeTimes->{{3.606193866038415*^9, 3.606193886758895*^9}, 
   3.606194141981546*^9, 3.6061942581358023`*^9, 3.606194391207417*^9, 
   3.606194488589744*^9}],

Cell[BoxData[
 RowBox[{"f", "[", 
  RowBox[{"a", ",", "b"}], "]"}]], "Output",
 CellChangeTimes->{{3.606193866038415*^9, 3.606193886758895*^9}, 
   3.606194141981546*^9, 3.6061942581358023`*^9, 3.606194391207417*^9, 
   3.606194488590725*^9}]
}, Open  ]],

Cell["\<\
We can also use conditions. There disadvante is the time it takes to match \
the pattern: The condition is checked after matching, while the special \
matching functions check directly.\
\>", "Text",
 CellChangeTimes->{{3.606194266457177*^9, 3.606194373353346*^9}, {
  3.606194626777731*^9, 3.606194628169816*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"ruleCondition", "=", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{"a_", ",", "aneg_"}], "]"}], "\[RuleDelayed]", " ", 
    RowBox[{
     RowBox[{"G", "[", "a", "]"}], "/;", 
     RowBox[{"ensureSignQ", "[", 
      RowBox[{"a", ",", "aneg"}], "]"}]}]}]}], ";"}]], "Input",
 CellChangeTimes->{{3.6061943744942827`*^9, 3.6061944142374983`*^9}, {
  3.606194558300786*^9, 3.6061945963354397`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{"u", ",", 
    RowBox[{"-", "u"}]}], "]"}], "/.", 
  "ruleCondition"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{
    RowBox[{"-", "u"}], ",", "u"}], "]"}], "/.", 
  "ruleCondition"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{"u", ",", "u"}], "]"}], "/.", 
  "ruleCondition"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{
    RowBox[{"-", "u"}], ",", 
    RowBox[{"-", "u"}]}], "]"}], "/.", 
  "ruleCondition"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{"a", ",", "b"}], "]"}], "/.", "ruleCondition"}]}], "Input",
 CellChangeTimes->{{3.606194605730803*^9, 3.606194611486046*^9}}],

Cell[BoxData[
 RowBox[{"G", "[", "u", "]"}]], "Output",
 CellChangeTimes->{3.6061946140399237`*^9}],

Cell[BoxData[
 RowBox[{"G", "[", 
  RowBox[{"-", "u"}], "]"}]], "Output",
 CellChangeTimes->{3.6061946140417213`*^9}],

Cell[BoxData[
 RowBox[{"f", "[", 
  RowBox[{"u", ",", "u"}], "]"}]], "Output",
 CellChangeTimes->{3.606194614044025*^9}],

Cell[BoxData[
 RowBox[{"f", "[", 
  RowBox[{
   RowBox[{"-", "u"}], ",", 
   RowBox[{"-", "u"}]}], "]"}]], "Output",
 CellChangeTimes->{3.606194614047027*^9}],

Cell[BoxData[
 RowBox[{"f", "[", 
  RowBox[{"a", ",", "b"}], "]"}]], "Output",
 CellChangeTimes->{3.606194614048677*^9}]
}, Open  ]],

Cell["\<\
If one wants to include an unsigned version of the pattern, this is possible \
as well with both of the variants above:\
\>", "Text",
 CellChangeTimes->{{3.606194748186674*^9, 3.606194793257946*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"rule2Special", "=", 
   RowBox[{
    RowBox[{"g", "[", 
     RowBox[{
      RowBox[{"f", "[", 
       RowBox[{
        RowBox[{"speM", "[", "a", "]"}], ",", 
        RowBox[{"speM", "[", 
         RowBox[{"-", "a"}], "]"}]}], "]"}], ",", 
      RowBox[{"unsM", "[", "a", "]"}]}], "]"}], "\[RuleDelayed]", " ", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Length", "[", 
        RowBox[{"{", "apos", "}"}], "]"}], ">", "0"}], ",", 
      RowBox[{"G", "[", "apos", "]"}], ",", 
      RowBox[{"G", "[", 
       RowBox[{"-", "aneg"}], "]"}]}], "]"}]}]}], ";"}]], "Input",
 CellChangeTimes->{{3.60619485187278*^9, 3.606194871427368*^9}, {
  3.606194926592379*^9, 3.60619492793841*^9}, {3.606195008531105*^9, 
  3.606195015027466*^9}, {3.606195110880659*^9, 3.606195116259089*^9}, {
  3.606195162160965*^9, 3.6061951763383636`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"g", "[", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{"u", ",", 
      RowBox[{"-", "u"}]}], "]"}], ",", "u"}], "]"}], "/.", 
  "rule2Special"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"g", "[", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{
      RowBox[{"-", "u"}], ",", "u"}], "]"}], ",", "u"}], "]"}], "/.", 
  "rule2Special"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"g", "[", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{"u", ",", 
      RowBox[{"-", "u"}]}], "]"}], ",", 
    RowBox[{"-", "u"}]}], "]"}], "/.", 
  "rule2Special"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"g", "[", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{
      RowBox[{"-", "u"}], ",", 
      RowBox[{"-", "u"}]}], "]"}], ",", "u"}], "]"}], "/.", 
  "rule2Special"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"g", "[", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{"u", ",", 
      RowBox[{"-", "u"}]}], "]"}], ",", "b"}], "]"}], "/.", 
  "rule2Special"}]}], "Input",
 CellChangeTimes->{{3.606194889602067*^9, 3.606194934527471*^9}, {
  3.606195163552726*^9, 3.606195168302237*^9}}],

Cell[BoxData[
 RowBox[{"G", "[", "u", "]"}]], "Output",
 CellChangeTimes->{
  3.6061949365998707`*^9, {3.606195010200243*^9, 3.60619501744816*^9}, 
   3.606195118504231*^9, 3.606195177864612*^9}],

Cell[BoxData[
 RowBox[{"G", "[", 
  RowBox[{"-", "u"}], "]"}]], "Output",
 CellChangeTimes->{
  3.6061949365998707`*^9, {3.606195010200243*^9, 3.60619501744816*^9}, 
   3.606195118504231*^9, 3.606195177867652*^9}],

Cell[BoxData[
 RowBox[{"g", "[", 
  RowBox[{
   RowBox[{"f", "[", 
    RowBox[{"u", ",", 
     RowBox[{"-", "u"}]}], "]"}], ",", 
   RowBox[{"-", "u"}]}], "]"}]], "Output",
 CellChangeTimes->{
  3.6061949365998707`*^9, {3.606195010200243*^9, 3.60619501744816*^9}, 
   3.606195118504231*^9, 3.606195177869499*^9}],

Cell[BoxData[
 RowBox[{"g", "[", 
  RowBox[{
   RowBox[{"f", "[", 
    RowBox[{
     RowBox[{"-", "u"}], ",", 
     RowBox[{"-", "u"}]}], "]"}], ",", "u"}], "]"}]], "Output",
 CellChangeTimes->{
  3.6061949365998707`*^9, {3.606195010200243*^9, 3.60619501744816*^9}, 
   3.606195118504231*^9, 3.606195177871009*^9}],

Cell[BoxData[
 RowBox[{"g", "[", 
  RowBox[{
   RowBox[{"f", "[", 
    RowBox[{"u", ",", 
     RowBox[{"-", "u"}]}], "]"}], ",", "b"}], "]"}]], "Output",
 CellChangeTimes->{
  3.6061949365998707`*^9, {3.606195010200243*^9, 3.60619501744816*^9}, 
   3.606195118504231*^9, 3.6061951778719597`*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"rule2Condition", "=", 
   RowBox[{
    RowBox[{"g", "[", 
     RowBox[{
      RowBox[{"f", "[", 
       RowBox[{"a_", ",", "aneg_"}], "]"}], ",", "auns_"}], "]"}], 
    "\[RuleDelayed]", " ", 
    RowBox[{
     RowBox[{"G", "[", "a", "]"}], "/;", 
     RowBox[{"ensureSignQ", "[", 
      RowBox[{"a", ",", "aneg", ",", "auns"}], "]"}]}]}]}], ";"}]], "Input",
 CellChangeTimes->{{3.6061952575824842`*^9, 3.606195273904335*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"g", "[", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{"u", ",", 
      RowBox[{"-", "u"}]}], "]"}], ",", "u"}], "]"}], "/.", 
  "rule2Condition"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"g", "[", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{
      RowBox[{"-", "u"}], ",", "u"}], "]"}], ",", "u"}], "]"}], "/.", 
  "rule2Condition"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"g", "[", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{"u", ",", 
      RowBox[{"-", "u"}]}], "]"}], ",", 
    RowBox[{"-", "u"}]}], "]"}], "/.", 
  "rule2Condition"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"g", "[", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{
      RowBox[{"-", "u"}], ",", 
      RowBox[{"-", "u"}]}], "]"}], ",", "u"}], "]"}], "/.", 
  "rule2Condition"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"g", "[", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{"u", ",", 
      RowBox[{"-", "u"}]}], "]"}], ",", "b"}], "]"}], "/.", 
  "rule2Condition"}]}], "Input",
 CellChangeTimes->{{3.606195288179582*^9, 3.606195290861086*^9}}],

Cell[BoxData[
 RowBox[{"G", "[", "u", "]"}]], "Output",
 CellChangeTimes->{3.606195292952724*^9}],

Cell[BoxData[
 RowBox[{"G", "[", 
  RowBox[{"-", "u"}], "]"}]], "Output",
 CellChangeTimes->{3.6061952929553127`*^9}],

Cell[BoxData[
 RowBox[{"g", "[", 
  RowBox[{
   RowBox[{"f", "[", 
    RowBox[{"u", ",", 
     RowBox[{"-", "u"}]}], "]"}], ",", 
   RowBox[{"-", "u"}]}], "]"}]], "Output",
 CellChangeTimes->{3.606195292958068*^9}],

Cell[BoxData[
 RowBox[{"g", "[", 
  RowBox[{
   RowBox[{"f", "[", 
    RowBox[{
     RowBox[{"-", "u"}], ",", 
     RowBox[{"-", "u"}]}], "]"}], ",", "u"}], "]"}]], "Output",
 CellChangeTimes->{3.6061952929592733`*^9}],

Cell[BoxData[
 RowBox[{"g", "[", 
  RowBox[{
   RowBox[{"f", "[", 
    RowBox[{"u", ",", 
     RowBox[{"-", "u"}]}], "]"}], ",", "b"}], "]"}]], "Output",
 CellChangeTimes->{3.606195292961328*^9}]
}, Open  ]],

Cell["\<\
Additionally there is a convenience matching function for even permutations:\
\>", "Text",
 CellChangeTimes->{{3.606195759035039*^9, 3.606195783451048*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"rulePerm", "=", 
  RowBox[{
   RowBox[{"evenPermM", "[", 
    RowBox[{"f", "[", 
     RowBox[{"a", ",", "b", ",", "c"}], "]"}], "]"}], "\[RuleDelayed]", " ", 
   RowBox[{"G", "[", 
    RowBox[{"a", "+", "b", "+", "c"}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.606195789710927*^9, 3.606195825008718*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"f", "[", 
    RowBox[{"a", ",", "b", ",", "c"}], "]"}], "|", 
   RowBox[{"f", "[", 
    RowBox[{"b", ",", "c", ",", "a"}], "]"}], "|", 
   RowBox[{"f", "[", 
    RowBox[{"c", ",", "a", ",", "b"}], "]"}]}], "\[RuleDelayed]", 
  RowBox[{"G", "[", 
   RowBox[{"a", "+", "b", "+", "c"}], "]"}]}]], "Output",
 CellChangeTimes->{3.6061958854180727`*^9}]
}, Open  ]],

Cell["\<\
This matches all even permutations of a,b and c:\
\>", "Text",
 CellChangeTimes->{{3.606195830746592*^9, 3.606195841674614*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{"a", ",", "b", ",", "c"}], "]"}], "/.", 
  "rulePerm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{"b", ",", "c", ",", "a"}], "]"}], "/.", 
  "rulePerm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{"c", ",", "a", ",", "b"}], "]"}], "/.", "rulePerm"}]}], "Input",
 CellChangeTimes->{{3.606195845855505*^9, 3.606195892724123*^9}}],

Cell[BoxData[
 RowBox[{"G", "[", 
  RowBox[{"a", "+", "b", "+", "c"}], "]"}]], "Output",
 CellChangeTimes->{{3.606195889049761*^9, 3.606195893129724*^9}}],

Cell[BoxData[
 RowBox[{"G", "[", 
  RowBox[{"a", "+", "b", "+", "c"}], "]"}]], "Output",
 CellChangeTimes->{{3.606195889049761*^9, 3.606195893132065*^9}}],

Cell[BoxData[
 RowBox[{"G", "[", 
  RowBox[{"a", "+", "b", "+", "c"}], "]"}]], "Output",
 CellChangeTimes->{{3.606195889049761*^9, 3.6061958931341963`*^9}}]
}, Open  ]],

Cell["\<\
Odd permutations are not matched\
\>", "Text",
 CellChangeTimes->{{3.6061958730031567`*^9, 3.606195878522488*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"f", "[", 
   RowBox[{"a", ",", "c", ",", "b"}], "]"}], "/.", "rulePerm"}]], "Input",
 CellChangeTimes->{{3.6061958817103233`*^9, 3.606195883663558*^9}}],

Cell[BoxData[
 RowBox[{"f", "[", 
  RowBox[{"a", ",", "c", ",", "b"}], "]"}]], "Output",
 CellChangeTimes->{3.606195894777768*^9}]
}, Open  ]],

Cell["\<\
Additionally, we have an \[OpenCurlyDoubleQuote]alternative\
\[CloseCurlyDoubleQuote] function, which is automatically pulled out of \
expressions.
It may be useful for pattern matching:\
\>", "Text",
 CellChangeTimes->{{3.606196630975913*^9, 3.606196665003607*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"sum", "[", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"alternative", "[", 
      RowBox[{"a", ",", "b"}], "]"}], "*", 
     RowBox[{"alternative", "[", 
      RowBox[{"c", ",", "d"}], "]"}]}], "+", 
    RowBox[{"alternative", "[", 
     RowBox[{"e", ",", "f"}], "]"}]}], ",", "u", ",", "v"}], "]"}]], "Input",
 CellChangeTimes->{{3.60619666964295*^9, 3.6061967135699463`*^9}}],

Cell[BoxData[
 RowBox[{"alternative", "[", 
  RowBox[{
   RowBox[{"sum", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"a", " ", "c"}], "+", "e"}], ",", "u", ",", "v"}], "]"}], ",", 
   RowBox[{"sum", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"b", " ", "c"}], "+", "e"}], ",", "u", ",", "v"}], "]"}], ",", 
   RowBox[{"sum", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"a", " ", "d"}], "+", "e"}], ",", "u", ",", "v"}], "]"}], ",", 
   RowBox[{"sum", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"b", " ", "d"}], "+", "e"}], ",", "u", ",", "v"}], "]"}], ",", 
   RowBox[{"sum", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"a", " ", "c"}], "+", "f"}], ",", "u", ",", "v"}], "]"}], ",", 
   RowBox[{"sum", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"b", " ", "c"}], "+", "f"}], ",", "u", ",", "v"}], "]"}], ",", 
   RowBox[{"sum", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"a", " ", "d"}], "+", "f"}], ",", "u", ",", "v"}], "]"}], ",", 
   RowBox[{"sum", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"b", " ", "d"}], "+", "f"}], ",", "u", ",", "v"}], "]"}]}], 
  "]"}]], "Output",
 CellChangeTimes->{{3.606196702707017*^9, 3.606196714332326*^9}}]
}, Open  ]],

Cell["\<\
However, it is only pulled out of functions, that are listed in \
$altFunctionList:\
\>", "Text",
 CellChangeTimes->{{3.606196736364108*^9, 3.606196760875966*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"myfunc", "[", 
  RowBox[{
   RowBox[{"alternative", "[", 
    RowBox[{"a", ",", "b"}], "]"}], ",", 
   RowBox[{
    RowBox[{"alternative", "[", 
     RowBox[{"c", ",", "d"}], "]"}], "*", 
    RowBox[{"alternative", "[", 
     RowBox[{"e", ",", "f"}], "]"}]}]}], "]"}]], "Input",
 CellChangeTimes->{{3.6061967821071243`*^9, 3.6061968016811533`*^9}}],

Cell[BoxData[
 RowBox[{"myfunc", "[", 
  RowBox[{
   RowBox[{"alternative", "[", 
    RowBox[{"a", ",", "b"}], "]"}], ",", 
   RowBox[{"alternative", "[", 
    RowBox[{
     RowBox[{"c", " ", "e"}], ",", 
     RowBox[{"d", " ", "e"}], ",", 
     RowBox[{"c", " ", "f"}], ",", 
     RowBox[{"d", " ", "f"}]}], "]"}]}], "]"}]], "Output",
 CellChangeTimes->{3.6061968026040907`*^9}]
}, Open  ]],

Cell["\<\
Adding the function should do the trick:\
\>", "Text",
 CellChangeTimes->{{3.6061967622841167`*^9, 3.606196777964342*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"AppendTo", "[", 
   RowBox[{"$altFunctionList", ",", "myfunc"}], "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.606196807181476*^9, 3.606196816384602*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"myfunc", "[", 
  RowBox[{
   RowBox[{"alternative", "[", 
    RowBox[{"a", ",", "b"}], "]"}], ",", 
   RowBox[{
    RowBox[{"alternative", "[", 
     RowBox[{"c", ",", "d"}], "]"}], "*", 
    RowBox[{"alternative", "[", 
     RowBox[{"e", ",", "f"}], "]"}]}]}], "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"alternative", "[", 
  RowBox[{
   RowBox[{"myfunc", "[", 
    RowBox[{"a", ",", 
     RowBox[{"c", " ", "e"}]}], "]"}], ",", 
   RowBox[{"myfunc", "[", 
    RowBox[{"a", ",", 
     RowBox[{"d", " ", "e"}]}], "]"}], ",", 
   RowBox[{"myfunc", "[", 
    RowBox[{"a", ",", 
     RowBox[{"c", " ", "f"}]}], "]"}], ",", 
   RowBox[{"myfunc", "[", 
    RowBox[{"a", ",", 
     RowBox[{"d", " ", "f"}]}], "]"}], ",", 
   RowBox[{"myfunc", "[", 
    RowBox[{"b", ",", 
     RowBox[{"c", " ", "e"}]}], "]"}], ",", 
   RowBox[{"myfunc", "[", 
    RowBox[{"b", ",", 
     RowBox[{"d", " ", "e"}]}], "]"}], ",", 
   RowBox[{"myfunc", "[", 
    RowBox[{"b", ",", 
     RowBox[{"c", " ", "f"}]}], "]"}], ",", 
   RowBox[{"myfunc", "[", 
    RowBox[{"b", ",", 
     RowBox[{"d", " ", "f"}]}], "]"}]}], "]"}]], "Output",
 CellChangeTimes->{3.606196825532177*^9}]
}, Open  ]],

Cell["\<\
Further functions simplify writing conditions:\
\>", "Text",
 CellChangeTimes->{{3.6061967622841167`*^9, 3.606196777964342*^9}, {
  3.606197369885475*^9, 3.606197404796205*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"FreeQ", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"a", ",", "b"}], "}"}], ",", "c"}], "]"}], "&&", 
  RowBox[{"FreeQ", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"a", ",", "b"}], "}"}], ",", "d"}], "]"}], "&&", 
  RowBox[{"FreeQ", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"a", ",", "b"}], "}"}], ",", "e"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.606197408031382*^9, 3.606197447411352*^9}}],

Cell[BoxData["True"], "Output",
 CellChangeTimes->{{3.606197433814754*^9, 3.6061974508765593`*^9}}]
}, Open  ]],

Cell["can also be written as", "Text",
 CellChangeTimes->{{3.6061967622841167`*^9, 3.606196777964342*^9}, {
  3.606197369885475*^9, 3.6061973994535933`*^9}, {3.606197436925786*^9, 
  3.606197455486034*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FreeQAll", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"a", ",", "b"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"c", ",", "d", ",", "e"}], "}"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.606197456748452*^9, 3.606197465604279*^9}}],

Cell[BoxData["True"], "Output",
 CellChangeTimes->{3.606197465954919*^9}]
}, Open  ]],

Cell["or even", "Text",
 CellChangeTimes->{{3.6061967622841167`*^9, 3.606196777964342*^9}, 
   3.606197369885475*^9, {3.606197473934416*^9, 3.606197474733632*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"FreeQAll", "[", 
  RowBox[{"a", ",", "b", ",", 
   RowBox[{"{", 
    RowBox[{"c", ",", "d", ",", "e"}], "}"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.606197476107315*^9, 3.60619748384102*^9}}],

Cell[BoxData["True"], "Output",
 CellChangeTimes->{3.60619748457216*^9}]
}, Open  ]],

Cell["There are some more:", "Text",
 CellChangeTimes->{{3.6061967622841167`*^9, 3.606196777964342*^9}, 
   3.606197369885475*^9, {3.6061975136463623`*^9, 3.6061975282542887`*^9}, {
   3.6061975624943037`*^9, 3.60619756316595*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"?", "FreeQNone"}], "\[IndentingNewLine]", 
 RowBox[{"?", "FreeQAllUnsigned"}], "\[IndentingNewLine]", 
 RowBox[{"?", "FreeQNoneUnsigned"}]}], "Input",
 CellChangeTimes->{{3.606197565018631*^9, 3.606197576785274*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 StyleBox["\<\"FreeQNone[expr1,...,listOfElements] checks if the sequence of \
expressions (expr1,...) depends on all elements in \
listOfElements\\n\\nArguments:\\n\\nexpr1,...: sequence of \
expressions\\nlistOfElements: list of elements\\n\\nReturns: True if \
{expr1,...} depends on all the elements from listOfElements, False otherwise.\
\"\>", "MSG"]], "Print", "PrintUsage",
 CellChangeTimes->{3.606197578066867*^9},
 CellTags->"Info3606204777-7505383"],

Cell[BoxData[
 StyleBox["\<\"FreeQAllUnsigned[expr1,...,listOfElements]  removes minus \
signs that may be in front of parameters in listOfElements, then invokes \
FreeQAll.\\nEquivalent to \
FreeQAll[a,removeSign/@b].\\n\\nArguments:\\n\\nexpr1,...: sequence of \
expressions\\nlistOfElements: list of elements\\n\\nReturns: True if all \
expressions are free of all elements, False otherwise\"\>", "MSG"]], "Print", \
"PrintUsage",
 CellChangeTimes->{3.606197578286519*^9},
 CellTags->"Info3606204778-7505383"],

Cell[BoxData[
 StyleBox["\<\"FreeQNoneUnsigned[expr1,...,listOfElements] removes minus \
signs that may be in front of parameters in listOfSymbols, then invokes \
FreeQNone\\nEquivalent to \
FreeQNone[a,removeSign/@b].\\n\\nArguments:\\n\\nexpr1,...: sequence of \
expressions\\nlistOfElements: list of elements\\n\\nReturns: True if \
{expr1,...} depends on all the elements from listOfElements, False otherwise.\
\"\>", "MSG"]], "Print", "PrintUsage",
 CellChangeTimes->{3.606197578494195*^9},
 CellTags->"Info3606204778-7505383"]
}, Open  ]]
}, Open  ]],

Cell["", "Text",
 CellChangeTimes->{{3.6061967622841167`*^9, 3.606196777964342*^9}, 
   3.606197369885475*^9}]
}, Closed]],

Cell[CellGroupData[{

Cell["Transforming Rules and Expressions", "Section",
 CellChangeTimes->{{3.6061349994307413`*^9, 3.606135006038556*^9}}],

Cell[CellGroupData[{

Cell["Permutations", "Subsection",
 CellChangeTimes->{{3.606190844935643*^9, 3.606190853396867*^9}}],

Cell["\<\
There are two additional functions that can construct permutations, both are \
pretty forward to use:\
\>", "Text",
 CellChangeTimes->{{3.606190866421789*^9, 3.606190912901104*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EvenPermutations", "[", 
  RowBox[{"{", 
   RowBox[{"a", ",", "b", ",", "c"}], "}"}], "]"}]], "Input",
 CellChangeTimes->{{3.6061909150114*^9, 3.6061909284572678`*^9}, {
  3.606190966922686*^9, 3.606190968635069*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"a", ",", "b", ",", "c"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"b", ",", "c", ",", "a"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"c", ",", "a", ",", "b"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.606190972788047*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"OddPermutations", "[", 
  RowBox[{"{", 
   RowBox[{"a", ",", "b", ",", "c"}], "}"}], "]"}]], "Input",
 CellChangeTimes->{{3.606190973801374*^9, 3.606190975240505*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"a", ",", "c", ",", "b"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"b", ",", "a", ",", "c"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"c", ",", "b", ",", "a"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.606190975763844*^9}]
}, Open  ]],

Cell["\<\
Note that these functions can also work with heads different from \
\[OpenCurlyDoubleQuote]List\[CloseCurlyDoubleQuote]:\
\>", "Text",
 CellChangeTimes->{{3.606191021654235*^9, 3.606191054085248*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"EvenPermutations", "[", 
  RowBox[{"f", "[", 
   RowBox[{"a", ",", "b", ",", "c"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.6061910040093803`*^9, 3.606191007035179*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"f", "[", 
    RowBox[{"a", ",", "b", ",", "c"}], "]"}], ",", 
   RowBox[{"f", "[", 
    RowBox[{"b", ",", "c", ",", "a"}], "]"}], ",", 
   RowBox[{"f", "[", 
    RowBox[{"c", ",", "a", ",", "b"}], "]"}]}], "}"}]], "Output",
 CellChangeTimes->{3.606191007795499*^9}]
}, Open  ]],

Cell[TextData[{
 "Internally they use ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 "\[CloseCurlyQuote]s Permutations and filter the result."
}], "Text",
 CellChangeTimes->{{3.6061911168690863`*^9, 3.606191130886932*^9}, 
   3.6061911632536993`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Symbolic Expressions", "Subsection",
 CellChangeTimes->{
  3.606191176197933*^9, {3.606191211909416*^9, 3.606191227972875*^9}, {
   3.606191496037448*^9, 3.6061914962297583`*^9}, {3.606191808933793*^9, 
   3.606191810293778*^9}}],

Cell["\<\
One can remove a sign from an expression with the following function\
\>", "Text",
 CellChangeTimes->{{3.6061912432218924`*^9, 3.606191289973761*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"removeSign", "[", 
  RowBox[{"-", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"a", "-", "b"}], ")"}], "^", "2"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.606191291516803*^9, 3.606191300682819*^9}, {
  3.606191379803574*^9, 3.6061913834360323`*^9}, {3.606191428619886*^9, 
  3.60619143159558*^9}}],

Cell[BoxData[
 SuperscriptBox[
  RowBox[{"(", 
   RowBox[{"a", "-", "b"}], ")"}], "2"]], "Output",
 CellChangeTimes->{
  3.60619130235612*^9, 3.606191380180121*^9, {3.6061914241164*^9, 
   3.606191431908387*^9}}]
}, Open  ]],

Cell["\<\
It removes a sign, if there actually is one in front of the whole expression:\
\
\>", "Text",
 CellChangeTimes->{{3.606191317206071*^9, 3.606191357669243*^9}, {
  3.6061914417660513`*^9, 3.606191454630164*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"removeSign", "[", 
  RowBox[{
   RowBox[{"-", "a"}], "+", "b"}], "]"}]], "Input",
 CellChangeTimes->{{3.606191336536529*^9, 3.6061913407289467`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"-", "a"}], "+", "b"}]], "Output",
 CellChangeTimes->{3.606191341380185*^9, 3.6061914333957376`*^9}]
}, Open  ]],

Cell["\<\
Furthermore, we can remove all blanks from an expression, using the following \
function\
\>", "Text",
 CellChangeTimes->{{3.60619152168561*^9, 3.60619154586167*^9}, 
   3.606191613413471*^9}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"removeBlanks", "[", 
  RowBox[{"f", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"a_", "+", "b__"}], ")"}], "^", "2"}], ",", "c___"}], "]"}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.606191547047276*^9, 3.606191597563265*^9}}],

Cell[BoxData[
 RowBox[{"f", "[", 
  RowBox[{
   SuperscriptBox[
    RowBox[{"(", 
     RowBox[{"a", "+", "b"}], ")"}], "2"], ",", "c"}], "]"}]], "Output",
 CellChangeTimes->{{3.606191565524252*^9, 3.606191597908506*^9}}]
}, Open  ]],

Cell["\<\
If one wants to have all possible combinations of signs for specific \
variables in an expression, one can do that as well:\
\>", "Text",
 CellChangeTimes->{{3.6062060313714046`*^9, 3.606206085771078*^9}, {
  3.6062061707960052`*^9, 3.606206172234724*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"f", "[", 
    RowBox[{"a", ",", "b", ",", "c"}], "]"}], 
   RowBox[{"g", "[", "d", "]"}]}], "//", 
  RowBox[{"invertArguments", "[", 
   RowBox[{"a", ",", "b"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.606206086830509*^9, 3.606206098030299*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{"a", ",", "b", ",", "c"}], "]"}], " ", 
    RowBox[{"g", "[", "d", "]"}]}], ",", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{
      RowBox[{"-", "a"}], ",", "b", ",", "c"}], "]"}], " ", 
    RowBox[{"g", "[", "d", "]"}]}], ",", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{"a", ",", 
      RowBox[{"-", "b"}], ",", "c"}], "]"}], " ", 
    RowBox[{"g", "[", "d", "]"}]}], ",", 
   RowBox[{
    RowBox[{"f", "[", 
     RowBox[{
      RowBox[{"-", "a"}], ",", 
      RowBox[{"-", "b"}], ",", "c"}], "]"}], " ", 
    RowBox[{"g", "[", "d", "]"}]}]}], "}"}]], "Output",
 CellChangeTimes->{3.6062060988581753`*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Rules", "Subsection",
 CellChangeTimes->{{3.606191817366534*^9, 3.606191818485293*^9}}],

Cell["\<\
Modifying rules can be quite hard. For easier performing transformations of \
some parts of rules, we can split rules:\
\>", "Text",
 CellChangeTimes->{{3.6061918725983553`*^9, 3.606191933877823*^9}, {
  3.606191964565391*^9, 3.6061919652535343`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ruleParts", "=", 
  RowBox[{"ruleSplit", "[", 
   RowBox[{
    RowBox[{"a_", "+", "b_"}], "\[RuleDelayed]", 
    RowBox[{
     RowBox[{"f", "[", 
      RowBox[{"a", ",", "b"}], "]"}], "/;", 
     RowBox[{
      RowBox[{"a", ">", "0"}], "&&", 
      RowBox[{"b", ">", "0"}]}]}]}], "]"}]}]], "Input",
 CellChangeTimes->{{3.606191934657755*^9, 3.606191977948659*^9}, {
  3.60619211053825*^9, 3.6061921134366913`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"rdc\"\>", ",", 
   RowBox[{"a_", "+", "b_"}], ",", 
   RowBox[{"Hold", "[", 
    RowBox[{"f", "[", 
     RowBox[{"a", ",", "b"}], "]"}], "]"}], ",", 
   RowBox[{"Hold", "[", 
    RowBox[{
     RowBox[{"a", ">", "0"}], "&&", 
     RowBox[{"b", ">", "0"}]}], "]"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.6061919666615553`*^9, 3.606191978645379*^9}, {
  3.606192115893147*^9, 3.606192118016676*^9}}]
}, Open  ]],

Cell["\<\
The first entry in the list is the type of rule. Currently, four types are \
supported:
 - \[CloseCurlyDoubleQuote]r\[CloseCurlyDoubleQuote]: a simple rule (a->b)
 - \[CloseCurlyDoubleQuote]rd\[CloseCurlyDoubleQuote]: a delayed rule (a:>b)
 - \[CloseCurlyDoubleQuote]rc\[CloseCurlyDoubleQuote]: a rule with a \
condition (a->b/;c)
 - \[CloseCurlyDoubleQuote]rdc\[CloseCurlyDoubleQuote]: a delayed rule with a \
condition (a:>b/;c)
 
The second entry in the list is the pattern, the third is the result in a \
surrounding Hold. The fourth one is the condition if the rule has one. This \
is also surrounded by a Hold function.\
\>", "Text",
 CellChangeTimes->{{3.6061919963747263`*^9, 3.60619209271028*^9}, {
  3.6061921377832413`*^9, 3.6061921797024183`*^9}}],

Cell["\<\
We can now modify parts of the rule:\
\>", "Text",
 CellChangeTimes->{{3.6061921851109877`*^9, 3.606192194454166*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"ruleParts", "[", 
   RowBox[{"[", "2", "]"}], "]"}], "=", 
  RowBox[{
   RowBox[{"ruleParts", "[", 
    RowBox[{"[", "2", "]"}], "]"}], "/.", 
   RowBox[{
    RowBox[{"Verbatim", "[", "b_", "]"}], "\[RuleDelayed]", " ", 
    TagBox[
     StyleBox[
      RowBox[{"Pattern", "[", 
       RowBox[{"b", ",", 
        RowBox[{"BlankSequence", "[", "]"}]}], "]"}],
      ShowSpecialCharacters->False,
      ShowStringCharacters->True,
      NumberMarks->True],
     FullForm]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ruleParts", "[", 
    RowBox[{"[", "1", "]"}], "]"}], "=", "\"\<rd\>\""}], ";", " ", 
  RowBox[{"(*", 
   RowBox[{"removes", " ", "the", " ", "condition"}], "*)"}]}]}], "Input",
 CellChangeTimes->{{3.606192197767208*^9, 3.606192240011709*^9}, {
  3.6061955923710814`*^9, 3.6061956139517384`*^9}}],

Cell[BoxData[
 RowBox[{"a_", "+", "b__"}]], "Output",
 CellChangeTimes->{3.606192246293058*^9, 3.606195617177194*^9}]
}, Open  ]],

Cell["\<\
Finally, we have to join the parts to a rule again:\
\>", "Text",
 CellChangeTimes->{{3.6061922611748657`*^9, 3.606192272358205*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ruleFinal", "=", 
  RowBox[{"ruleJoin", "[", "ruleParts", "]"}]}]], "Input",
 CellChangeTimes->{{3.606192275816935*^9, 3.606192281704777*^9}, {
  3.606195525404627*^9, 3.606195527068427*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"a_", "+", "b__"}], "\[RuleDelayed]", 
  RowBox[{"f", "[", 
   RowBox[{"a", ",", "b"}], "]"}]}]], "Output",
 CellChangeTimes->{3.60619228333311*^9, 3.606195527657364*^9, 
  3.606195619309519*^9}]
}, Open  ]],

Cell["\<\
If we do not need a rule, but a function instead, this can be arranged easily:\
\>", "Text",
 CellChangeTimes->{{3.606195473387402*^9, 3.606195488762466*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"fn1", "=", 
   RowBox[{"ruleToFunction", "[", "ruleFinal", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"fn1", "[", 
  RowBox[{
   RowBox[{"g", "[", 
    RowBox[{"a", "+", "b", "+", "c"}], "]"}], "+", "d", "+", "e"}], 
  "]"}]}], "Input",
 CellChangeTimes->{{3.606195490974976*^9, 3.606195579329671*^9}, {
  3.606195624160462*^9, 3.6061956383374853`*^9}, {3.606195707538618*^9, 
  3.6061957105778723`*^9}}],

Cell[BoxData[
 RowBox[{"f", "[", 
  RowBox[{"d", ",", "e", ",", 
   RowBox[{"g", "[", 
    RowBox[{"a", "+", "b", "+", "c"}], "]"}]}], "]"}]], "Output",
 CellChangeTimes->{{3.606195549240966*^9, 3.606195565561418*^9}, {
   3.606195621497373*^9, 3.60619563872961*^9}, 3.6061957110656652`*^9}]
}, Open  ]],

Cell["\<\
The function applies the rule only once. If you want it to be applied \
multiple times, use\
\>", "Text",
 CellChangeTimes->{{3.606195473387402*^9, 3.606195488762466*^9}, {
  3.606195656699071*^9, 3.606195677131007*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"fn2", "=", 
   RowBox[{"ruleToFunctionRepeated", "[", "ruleFinal", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"fn2", "[", 
  RowBox[{
   RowBox[{"g", "[", 
    RowBox[{"a", "+", "b", "+", "c"}], "]"}], "+", "d", "+", "e"}], 
  "]"}]}], "Input",
 CellChangeTimes->{{3.606195682240243*^9, 3.606195717711771*^9}}],

Cell[BoxData[
 RowBox[{"f", "[", 
  RowBox[{"d", ",", "e", ",", 
   RowBox[{"g", "[", 
    RowBox[{"f", "[", 
     RowBox[{"a", ",", "b", ",", "c"}], "]"}], "]"}]}], "]"}]], "Output",
 CellChangeTimes->{3.606195687790436*^9, 3.6061957182016068`*^9}]
}, Open  ]],

Cell["\<\
For rules involving sums, a function to \[OpenCurlyDoubleQuote]normalize\
\[CloseCurlyDoubleQuote] the rule exists:
It identifies all factors that are independent of summation variables and \
puts them on the right hand side of the rule\
\>", "Text",
 CellChangeTimes->{{3.6062061893711*^9, 3.606206252970475*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"rule", "=", 
  RowBox[{
   RowBox[{"sum", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"f", "[", 
       RowBox[{"a_", ",", "b_"}], "]"}], 
      RowBox[{"g", "[", 
       RowBox[{"a_", ",", "b_", ",", "c_"}], "]"}], 
      RowBox[{"h", "[", "u_", "]"}]}], ",", 
     RowBox[{"set", "[", 
      RowBox[{"c_", ",", "v___"}], "]"}]}], "]"}], "\[RuleDelayed]", " ", 
   RowBox[{"sum", "[", 
    RowBox[{"X", ",", 
     RowBox[{"set", "[", "v", "]"}]}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.606207063520721*^9, 3.606207172869787*^9}, {
  3.606207221636133*^9, 3.6062072290623817`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"sum", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"f", "[", 
      RowBox[{"a_", ",", "b_"}], "]"}], " ", 
     RowBox[{"g", "[", 
      RowBox[{"a_", ",", "b_", ",", "c_"}], "]"}], " ", 
     RowBox[{"h", "[", "u_", "]"}]}], ",", 
    RowBox[{"set", "[", 
     RowBox[{"c_", ",", "v___"}], "]"}]}], "]"}], "\[RuleDelayed]", 
  RowBox[{"sum", "[", 
   RowBox[{"X", ",", 
    RowBox[{"set", "[", "v", "]"}]}], "]"}]}]], "Output",
 CellChangeTimes->{{3.606207152442893*^9, 3.606207174616802*^9}, 
   3.606207231899469*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"normalizeSumRule", "[", "rule", "]"}]], "Input",
 CellChangeTimes->{{3.606206259039094*^9, 3.6062062773588667`*^9}, 
   3.606207060959545*^9, {3.606207146959773*^9, 3.606207151039164*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"sum", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"g", "[", 
      RowBox[{"a_", ",", "b_", ",", "c_"}], "]"}], " ", 
     RowBox[{"h", "[", "u_", "]"}]}], ",", 
    RowBox[{"set", "[", 
     RowBox[{"c_", ",", "v___"}], "]"}]}], "]"}], "\[RuleDelayed]", 
  RowBox[{"sum", "[", 
   RowBox[{
    FractionBox["X", 
     RowBox[{"f", "[", 
      RowBox[{"a", ",", "b"}], "]"}]], ",", 
    RowBox[{"set", "[", "v", "]"}]}], "]"}]}]], "Output",
 CellChangeTimes->{{3.606207154891272*^9, 3.606207175708186*^9}, 
   3.606207233035943*^9}]
}, Open  ]],

Cell["\<\
Note that the summation variables must be in an orderless set for this to \
work. Factors that involve variables which cannot be found in the remaining \
expression will not be moved to the right-hand side, e.g. h[u_] in the \
expression above.\
\>", "Text",
 CellChangeTimes->{{3.606207240925283*^9, 3.60620726062076*^9}, {
  3.606207330189502*^9, 3.606207373388377*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Simplification", "Subsection",
 CellChangeTimes->{{3.615718118937583*^9, 3.615718121464815*^9}}],

Cell["\<\
For the sum and integrate functions simplification functions exist to perform \
basic reordering.
Let\[CloseCurlyQuote]s have a look at the following expression:\
\>", "Text",
 CellChangeTimes->{{3.615718133017179*^9, 3.615718227737094*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"sum", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"f", "[", 
      RowBox[{"a", ",", "b"}], "]"}], 
     RowBox[{"e", "[", "c", "]"}], 
     RowBox[{"integrate", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"g", "[", 
         RowBox[{"u", ",", "v"}], "]"}], 
        RowBox[{"sum", "[", 
         RowBox[{
          RowBox[{"i", "[", "d", "]"}], ",", 
          RowBox[{"set", "[", "d", "]"}]}], "]"}]}], ",", 
       RowBox[{"set", "[", 
        RowBox[{"u", ",", "v", ",", "w"}], "]"}]}], "]"}]}], ",", 
    RowBox[{"set", "[", 
     RowBox[{"a", ",", "b", ",", "c"}], "]"}]}], "]"}], "//", 
  "TraditionalForm"}]], "Input",
 CellChangeTimes->{{3.615718229984242*^9, 3.615718231914925*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{
   UnderscriptBox["\[Sum]", "a"], 
   RowBox[{
    UnderscriptBox["\[Sum]", "b"], 
    RowBox[{
     UnderscriptBox["\[Sum]", "c"], 
     RowBox[{
      RowBox[{"e", "(", "c", ")"}], " ", 
      RowBox[{"f", "(", 
       RowBox[{"a", ",", "b"}], ")"}], " ", 
      RowBox[{"\[Integral]", 
       RowBox[{"\[Integral]", 
        RowBox[{"\[Integral]", 
         RowBox[{
          RowBox[{
           RowBox[{
            UnderscriptBox["\[Sum]", "d"], 
            RowBox[{"i", "(", "d", ")"}]}], " ", 
           RowBox[{"g", "(", 
            RowBox[{"u", ",", "v"}], ")"}]}], 
          RowBox[{"\[DifferentialD]", "w"}], 
          RowBox[{"\[DifferentialD]", "v"}], 
          RowBox[{"\[DifferentialD]", "u"}]}]}]}]}]}]}]}]}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{3.61571823280947*^9, 3.6157182876171722`*^9}]
}, Open  ]],

Cell["\<\
Obviously, parts of the integral do not depend on integration variables and \
we have to places of sums. We can simplify the expression:\
\>", "Text",
 CellChangeTimes->{{3.6157182400090857`*^9, 3.615718276121957*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"%", "//", "simplifySumIntegrate"}], "//", 
  "TraditionalForm"}]], "Input",
 CellChangeTimes->{{3.615718277462254*^9, 3.615718291426676*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{
   UnderscriptBox["\[Sum]", "a"], 
   RowBox[{
    UnderscriptBox["\[Sum]", "b"], 
    RowBox[{
     UnderscriptBox["\[Sum]", "c"], 
     RowBox[{
      UnderscriptBox["\[Sum]", "d"], 
      RowBox[{
       RowBox[{"e", "(", "c", ")"}], " ", 
       RowBox[{"i", "(", "d", ")"}], " ", 
       RowBox[{"f", "(", 
        RowBox[{"a", ",", "b"}], ")"}], " ", 
       RowBox[{"\[Integral]", 
        RowBox[{"\[Integral]", 
         RowBox[{"\[Integral]", 
          RowBox[{
           RowBox[{"g", "(", 
            RowBox[{"u", ",", "v"}], ")"}], 
           RowBox[{"\[DifferentialD]", "w"}], 
           RowBox[{"\[DifferentialD]", "v"}], 
           RowBox[{"\[DifferentialD]", "u"}]}]}]}]}]}]}]}]}]}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{{3.615718284424531*^9, 3.6157182918174763`*^9}}]
}, Open  ]],

Cell["\<\
This simplification also includes \[Delta]-terms for sums and integrals\
\>", "Text",
 CellChangeTimes->{{3.6157183018818197`*^9, 3.615718333113394*^9}}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Traditional Form", "Section",
 CellChangeTimes->{{3.606133336769796*^9, 3.606133340530094*^9}}],

Cell["\<\
The Utility package has a few functions that have a special representation \
when using TraditionalForm. Furthermore it allows to add indexed and primed \
numbers in an easy manner.\
\>", "Text",
 CellChangeTimes->{{3.6061327785932283`*^9, 3.606132779088702*^9}, {
  3.60613335235431*^9, 3.606133424194178*^9}}],

Cell["\<\
The functions sum and integrate, both of which are replacements for the \
corresponding built-in functions, have the same traditional form as their \
built-in counterparts:\
\>", "Text",
 CellChangeTimes->{{3.6061327785932283`*^9, 3.606132779088702*^9}, {
  3.606133430450593*^9, 3.6061335008026543`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"integrate", "[", 
   RowBox[{
    RowBox[{"sum", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"f", "[", 
        RowBox[{"a", ",", "b", ",", "c"}], "]"}], " ", 
       RowBox[{"g", "[", "\[Psi]", "]"}], 
       RowBox[{"h", "[", "\[Omega]", "]"}]}], ",", "a", ",", "b", ",", "c"}], 
     "]"}], ",", "\[Psi]", ",", "\[Omega]"}], "]"}], "//", 
  "TraditionalForm"}]], "Input",
 CellChangeTimes->{{3.60613350168353*^9, 3.606133546289439*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"\[Integral]", 
   RowBox[{"\[Integral]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{
       UnderscriptBox["\[Sum]", "a"], 
       RowBox[{
        UnderscriptBox["\[Sum]", "b"], 
        RowBox[{
         UnderscriptBox["\[Sum]", "c"], 
         RowBox[{
          RowBox[{"g", "(", "\[Psi]", ")"}], " ", 
          RowBox[{"h", "(", "\[Omega]", ")"}], " ", 
          RowBox[{"f", "(", 
           RowBox[{"a", ",", "b", ",", "c"}], ")"}]}]}]}]}], ")"}], 
     RowBox[{"\[DifferentialD]", "\[Omega]"}], 
     RowBox[{"\[DifferentialD]", "\[Psi]"}]}]}]}], TraditionalForm]], "Output",\

 CellChangeTimes->{
  3.606133548577078*^9, {3.606134395908132*^9, 3.606134416744821*^9}}]
}, Open  ]],

Cell[TextData[{
 "There usually is a problem representing primed or indexed quantum numbers \
in ",
 StyleBox["Mathematica.",
  FontSlant->"Italic"],
 " It is cumbersome to type them and sometimes they get in the way of pattern \
matching, as indices are treated in funny ways. Therefore the following \
notation is advised. Assume you have the angular momentum j, then one uses a \
\[OpenCurlyDoubleQuote]p\[CloseCurlyDoubleQuote] to denote a primed version \
and [...] to denote indices. Furthermore one can prepend an \
\[OpenCurlyDoubleQuote]m\[CloseCurlyDoubleQuote] to denote projection quantum \
numbers, e.g.\nj - some angular momentum\njp - second angular momentum j\
\[CloseCurlyQuote]\nj[a,b] - indices:  ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["j", 
    RowBox[{"a", "\[InvisibleComma]", "b"}]], TraditionalForm]],
  FormatType->"TraditionalForm"],
 "\nmjp[a,b,c] - ",
 Cell[BoxData[
  FormBox[
   SubscriptBox[
    RowBox[{"m", "'"}], 
    SubscriptBox["j", 
     RowBox[{"a", "\[InvisibleComma]", "b"}]]], TraditionalForm]],
  FormatType->"TraditionalForm"],
 "\n\nOf course, without telling ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " to represent them in a different way, it will not do so:"
}], "Text",
 CellChangeTimes->{{3.6061327785932283`*^9, 3.606132779088702*^9}, {
  3.606133613826746*^9, 3.606133725348689*^9}, {3.606133756996379*^9, 
  3.606134063268215*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"{", 
   RowBox[{"j", ",", "jp", ",", 
    RowBox[{"j", "[", 
     RowBox[{"a", ",", "b", ",", "c"}], "]"}], ",", 
    RowBox[{"jp", "[", 
     RowBox[{"u", ",", "v"}], "]"}], ",", "mj", ",", 
    RowBox[{"mj", "[", "a", "]"}], ",", "mjp", ",", 
    RowBox[{"mjp", "[", 
     RowBox[{"t", ",", "v"}], "]"}]}], "}"}], "//", 
  "TraditionalForm"}]], "Input",
 CellChangeTimes->{{3.606134064449456*^9, 3.6061340921478148`*^9}, {
  3.6061342040912323`*^9, 3.6061342094368763`*^9}, {3.60613428559757*^9, 
  3.606134286028563*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"j", ",", "jp", ",", 
    RowBox[{"j", "(", 
     RowBox[{"a", ",", "b", ",", "c"}], ")"}], ",", 
    RowBox[{"jp", "(", 
     RowBox[{"u", ",", "v"}], ")"}], ",", "mj", ",", 
    RowBox[{"mj", "(", "a", ")"}], ",", "mjp", ",", 
    RowBox[{"mjp", "(", 
     RowBox[{"t", ",", "v"}], ")"}]}], "}"}], TraditionalForm]], "Output",
 CellChangeTimes->{
  3.606134096764011*^9, {3.606134397988154*^9, 3.606134418962788*^9}}]
}, Open  ]],

Cell["\<\
One can declare j to be an angular momentum quantum number:\
\>", "Text",
 CellChangeTimes->{{3.6061327785932283`*^9, 3.606132779088702*^9}, {
  3.6061341099562483`*^9, 3.6061341342440453`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"declareIndexedAM", "[", "j", "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.606134122983223*^9, 3.606134149398808*^9}}],

Cell["\<\
Now, using TraditionalForm should work:\
\>", "Text",
 CellChangeTimes->{{3.6061327785932283`*^9, 3.606132779088702*^9}, {
  3.6061341099562483`*^9, 3.606134161812693*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"{", 
   RowBox[{"j", ",", "jp", ",", 
    RowBox[{"j", "[", 
     RowBox[{"a", ",", "b", ",", "c"}], "]"}], ",", 
    RowBox[{"jp", "[", 
     RowBox[{"u", ",", "v"}], "]"}], ",", "mj", ",", 
    RowBox[{"mj", "[", "a", "]"}], ",", "mjp", ",", 
    RowBox[{"mjp", "[", 
     RowBox[{"t", ",", "v"}], "]"}]}], "}"}], "//", 
  "TraditionalForm"}]], "Input",
 CellChangeTimes->{{3.606134214301133*^9, 3.606134225516275*^9}, {
  3.606134282126189*^9, 3.60613428250913*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"j", ",", 
    SuperscriptBox["j", "\[Prime]"], ",", 
    SubscriptBox["j", 
     RowBox[{"a", "\[InvisibleComma]", "b", "\[InvisibleComma]", "c"}]], ",", 
    
    SubsuperscriptBox["j", 
     RowBox[{"u", "\[InvisibleComma]", "v"}], "\[Prime]"], ",", 
    SubscriptBox["m", "j"], ",", 
    SubscriptBox["m", 
     SubscriptBox["j", "a"]], ",", 
    SubsuperscriptBox["m", "j", "\[Prime]"], ",", 
    SubsuperscriptBox["m", 
     SubscriptBox["j", 
      RowBox[{"t", "\[InvisibleComma]", "v"}]], "\[Prime]"]}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{3.606134165108054*^9, 3.606134228452559*^9, 
  3.6061342887397957`*^9, 3.606134424596382*^9}]
}, Open  ]],

Cell["\<\
There are additional declare* Functions. They just declare parts of the above \
representations:\
\>", "Text",
 CellChangeTimes->{{3.6061327785932283`*^9, 3.606132779088702*^9}, {
  3.6061341099562483`*^9, 3.606134161812693*^9}, {3.6061344434446287`*^9, 
  3.60613448957288*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"declarePrimed", "[", "a", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"declareIndexed", "[", "b", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"declareIndexedPrimed", "[", "c", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"declareIndexedAM", "[", "d", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"{", 
   RowBox[{"a", ",", "ap", ",", 
    RowBox[{"a", "[", 
     RowBox[{"a", ",", "b", ",", "c"}], "]"}], ",", 
    RowBox[{"ap", "[", 
     RowBox[{"u", ",", "v"}], "]"}], ",", "ma", ",", 
    RowBox[{"ma", "[", "a", "]"}], ",", "map", ",", 
    RowBox[{"map", "[", 
     RowBox[{"t", ",", "v"}], "]"}]}], "}"}], "//", 
  "TraditionalForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"{", 
   RowBox[{"b", ",", "bp", ",", 
    RowBox[{"b", "[", 
     RowBox[{"a", ",", "b", ",", "c"}], "]"}], ",", 
    RowBox[{"bp", "[", 
     RowBox[{"u", ",", "v"}], "]"}], ",", "mb", ",", 
    RowBox[{"mb", "[", "a", "]"}], ",", "mbp", ",", 
    RowBox[{"mbp", "[", 
     RowBox[{"t", ",", "v"}], "]"}]}], "}"}], "//", 
  "TraditionalForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"{", 
   RowBox[{"c", ",", "cp", ",", 
    RowBox[{"c", "[", 
     RowBox[{"a", ",", "b", ",", "c"}], "]"}], ",", 
    RowBox[{"cp", "[", 
     RowBox[{"u", ",", "v"}], "]"}], ",", "mc", ",", 
    RowBox[{"mc", "[", "a", "]"}], ",", "mcp", ",", 
    RowBox[{"mcp", "[", 
     RowBox[{"t", ",", "v"}], "]"}]}], "}"}], "//", 
  "TraditionalForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"{", 
   RowBox[{"d", ",", "dp", ",", 
    RowBox[{"d", "[", 
     RowBox[{"a", ",", "b", ",", "c"}], "]"}], ",", 
    RowBox[{"dp", "[", 
     RowBox[{"u", ",", "v"}], "]"}], ",", "md", ",", 
    RowBox[{"md", "[", "a", "]"}], ",", "mdp", ",", 
    RowBox[{"mdp", "[", 
     RowBox[{"t", ",", "v"}], "]"}]}], "}"}], "//", 
  "TraditionalForm"}]}], "Input",
 CellChangeTimes->{{3.606134495288939*^9, 3.606134572637508*^9}}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"a", ",", 
    SuperscriptBox["a", "\[Prime]"], ",", 
    RowBox[{"a", "(", 
     RowBox[{"a", ",", "b", ",", "c"}], ")"}], ",", 
    RowBox[{
     SuperscriptBox["a", "\[Prime]"], "(", 
     RowBox[{"u", ",", "v"}], ")"}], ",", "ma", ",", 
    RowBox[{"ma", "(", "a", ")"}], ",", "map", ",", 
    RowBox[{"map", "(", 
     RowBox[{"t", ",", "v"}], ")"}]}], "}"}], TraditionalForm]], "Output",
 CellChangeTimes->{3.606134574660864*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"b", ",", "bp", ",", 
    SubscriptBox["b", 
     RowBox[{"a", "\[InvisibleComma]", "b", "\[InvisibleComma]", "c"}]], ",", 
    
    RowBox[{"bp", "(", 
     RowBox[{"u", ",", "v"}], ")"}], ",", "mb", ",", 
    RowBox[{"mb", "(", "a", ")"}], ",", "mbp", ",", 
    RowBox[{"mbp", "(", 
     RowBox[{"t", ",", "v"}], ")"}]}], "}"}], TraditionalForm]], "Output",
 CellChangeTimes->{3.6061345746636066`*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"c", ",", 
    SuperscriptBox["c", "\[Prime]"], ",", 
    SubscriptBox["c", 
     RowBox[{"a", "\[InvisibleComma]", "b", "\[InvisibleComma]", "c"}]], ",", 
    
    SubsuperscriptBox["c", 
     RowBox[{"u", "\[InvisibleComma]", "v"}], "\[Prime]"], ",", "mc", ",", 
    RowBox[{"mc", "(", "a", ")"}], ",", "mcp", ",", 
    RowBox[{"mcp", "(", 
     RowBox[{"t", ",", "v"}], ")"}]}], "}"}], TraditionalForm]], "Output",
 CellChangeTimes->{3.606134574666441*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"{", 
   RowBox[{"d", ",", 
    SuperscriptBox["d", "\[Prime]"], ",", 
    SubscriptBox["d", 
     RowBox[{"a", "\[InvisibleComma]", "b", "\[InvisibleComma]", "c"}]], ",", 
    
    SubsuperscriptBox["d", 
     RowBox[{"u", "\[InvisibleComma]", "v"}], "\[Prime]"], ",", 
    SubscriptBox["m", "d"], ",", 
    SubscriptBox["m", 
     SubscriptBox["d", "a"]], ",", 
    SubsuperscriptBox["m", "d", "\[Prime]"], ",", 
    SubsuperscriptBox["m", 
     SubscriptBox["d", 
      RowBox[{"t", "\[InvisibleComma]", "v"}]], "\[Prime]"]}], "}"}], 
  TraditionalForm]], "Output",
 CellChangeTimes->{3.606134574668953*^9}]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Misc", "Section",
 CellChangeTimes->{{3.606133314578802*^9, 3.6061333152343493`*^9}}],

Cell["\<\
For orderless lists, one can use \[OpenCurlyDoubleQuote]set\
\[CloseCurlyDoubleQuote]:\
\>", "Text",
 CellChangeTimes->{{3.606196194028027*^9, 3.6061962057717037`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"set", "[", 
   RowBox[{"a", ",", "b", ",", "c"}], "]"}], "\[Equal]", 
  RowBox[{"set", "[", 
   RowBox[{"c", ",", "a", ",", "b"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.606196207412073*^9, 3.606196218224387*^9}}],

Cell[BoxData["True"], "Output",
 CellChangeTimes->{3.606196219036968*^9}]
}, Open  ]],

Cell["\<\
For getting the sign of an expression, use \[OpenCurlyDoubleQuote]sign\
\[CloseCurlyDoubleQuote]\
\>", "Text",
 CellChangeTimes->{{3.606196231915531*^9, 3.6061962422683907`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"sign", "[", 
  RowBox[{"-", 
   RowBox[{"f", "[", 
    RowBox[{"a", "+", "b"}], "]"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.606196245155723*^9, 3.6061962728329487`*^9}, {
  3.6061963244358253`*^9, 3.606196328144438*^9}}],

Cell[BoxData[
 RowBox[{"-", "1"}]], "Output",
 CellChangeTimes->{{3.606196258154014*^9, 3.6061962733705053`*^9}, 
   3.606196337082453*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"sign", "[", 
  RowBox[{"f", "[", 
   RowBox[{"a", "+", "b"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.606196264911303*^9, 3.6061962825291567`*^9}, {
  3.606196330545835*^9, 3.6061963339998703`*^9}}],

Cell[BoxData["1"], "Output",
 CellChangeTimes->{{3.606196265176848*^9, 3.606196283194615*^9}, 
   3.6061963379141827`*^9}]
}, Open  ]],

Cell["\<\
This is different from the built-in Sign:\
\>", "Text",
 CellChangeTimes->{{3.606196288380138*^9, 3.606196297179812*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Sign", "[", 
  RowBox[{"-", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"a", "+", "b"}], ")"}], "^", "2"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.606196298383155*^9, 3.606196307133382*^9}}],

Cell[BoxData[
 RowBox[{"-", 
  SuperscriptBox[
   RowBox[{"Sign", "[", 
    RowBox[{"a", "+", "b"}], "]"}], "2"]}]], "Output",
 CellChangeTimes->{3.606196307746189*^9, 3.606196339098778*^9}]
}, Open  ]],

Cell["\<\
Only minus signs in front of the whole expression (after standard evaluation) \
are found:\
\>", "Text",
 CellChangeTimes->{{3.606196342668041*^9, 3.6061964045088177`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"sign", "[", 
  RowBox[{
   RowBox[{"-", "a"}], "+", "b"}], "]"}]], "Input",
 CellChangeTimes->{{3.606196372814657*^9, 3.606196376224305*^9}}],

Cell[BoxData["1"], "Output",
 CellChangeTimes->{3.6061963768261642`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"sign", "[", 
   RowBox[{"-", 
    RowBox[{"(", 
     RowBox[{"a", "+", "b"}], ")"}]}], "]"}], 
  RowBox[{"(*", 
   RowBox[{"\[Equal]", 
    RowBox[{"sign", "[", 
     RowBox[{
      RowBox[{"-", "a"}], "-", "b"}], "]"}]}], "*)"}]}]], "Input",
 CellChangeTimes->{{3.606196380020856*^9, 3.606196418449547*^9}}],

Cell[BoxData["1"], "Output",
 CellChangeTimes->{3.606196385050469*^9}]
}, Open  ]],

Cell["\<\
We have replacements for the built-in integrate and sum functions, with the \
same TraditionalForm representation:\
\>", "Text",
 CellChangeTimes->{{3.6061964521247377`*^9, 3.606196487819666*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"integrate", "[", 
  RowBox[{
   RowBox[{"sum", "[", 
    RowBox[{
     RowBox[{"f", "[", 
      RowBox[{"a", ",", "b", ",", "x"}], "]"}], ",", "a", ",", "b"}], "]"}], 
   ",", "x"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"%", "//", "TraditionalForm"}]}], "Input",
 CellChangeTimes->{{3.6061965085413437`*^9, 3.6061965126172953`*^9}}],

Cell[BoxData[
 RowBox[{"integrate", "[", 
  RowBox[{
   RowBox[{"sum", "[", 
    RowBox[{
     RowBox[{"f", "[", 
      RowBox[{"a", ",", "b", ",", "x"}], "]"}], ",", "a", ",", "b"}], "]"}], 
   ",", "x"}], "]"}]], "Output",
 CellChangeTimes->{3.606196513021575*^9}],

Cell[BoxData[
 FormBox[
  RowBox[{"\[Integral]", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      UnderscriptBox["\[Sum]", "a"], 
      RowBox[{
       UnderscriptBox["\[Sum]", "b"], 
       RowBox[{"f", "(", 
        RowBox[{"a", ",", "b", ",", "x"}], ")"}]}]}], ")"}], 
    RowBox[{"\[DifferentialD]", "x"}]}]}], TraditionalForm]], "Output",
 CellChangeTimes->{3.60619651302385*^9}]
}, Open  ]],

Cell["\<\
The reason is the built-in evaluation procedures for Sum and Integrate, which \
may take 5 minutes to determine that they cannot simplify anything\
\>", "Text",
 CellChangeTimes->{{3.606196522956771*^9, 3.606196562365097*^9}}],

Cell["\<\
If you ever want to know all the variables and parameters you have in some \
expression, you can do this:\
\>", "Text",
 CellChangeTimes->{{3.6061976264795103`*^9, 3.606197655278051*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"getAllVariables", "[", 
  RowBox[{"sum", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"f", "[", 
      RowBox[{"a", ",", "b", ",", "c"}], "]"}], 
     RowBox[{"g", "[", 
      RowBox[{"c", ",", "d", ",", "e"}], "]"}], "*", "E"}], ",", "a", ",", 
    "b", ",", "c", ",", "d", ",", "e"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.606197658001883*^9, 3.6061976862122793`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"a", ",", "b", ",", "c", ",", "d", ",", "e"}], "}"}]], "Output",
 CellChangeTimes->{3.6061976894689493`*^9}]
}, Open  ]],

Cell["\<\
Note that all symbols with the attribute \[OpenCurlyDoubleQuote]Constant\
\[CloseCurlyDoubleQuote] are ignored:\
\>", "Text",
 CellChangeTimes->{{3.606197695918241*^9, 3.606197717758074*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Attributes", "[", "E", "]"}]], "Input",
 CellChangeTimes->{{3.606197720644595*^9, 3.6061977229455013`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"Constant", ",", "Protected", ",", "ReadProtected"}], 
  "}"}]], "Output",
 CellChangeTimes->{3.606197723281189*^9}]
}, Open  ]],

Cell["\<\
For transforming characters to numbers and back, two functions are available:\
\
\>", "Text",
 CellChangeTimes->{{3.606205885050868*^9, 3.606205909146093*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tonum", "[", "f", "]"}]], "Input",
 CellChangeTimes->{{3.6062059317698717`*^9, 3.606205939100843*^9}}],

Cell[BoxData["6"], "Output",
 CellChangeTimes->{3.606205940019669*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tochar", "[", "8", "]"}]], "Input",
 CellChangeTimes->{{3.606205941905003*^9, 3.6062059696954193`*^9}}],

Cell[BoxData["h"], "Output",
 CellChangeTimes->{{3.6062059448050632`*^9, 3.606205970217474*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tochar", "[", 
  RowBox[{"tonum", "[", "t", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.606205972986561*^9, 3.6062059803983727`*^9}}],

Cell[BoxData["t"], "Output",
 CellChangeTimes->{3.606205981167976*^9}]
}, Open  ]],

Cell["\<\
Note that the characters must be defined in Global scope.\
\>", "Text",
 CellChangeTimes->{{3.606205911898109*^9, 3.606205928538291*^9}}]
}, Closed]]
},
WindowSize->{889, 867},
WindowMargins->{{Automatic, 108}, {Automatic, 27}},
ShowSelection->True,
FrontEndVersion->"9.0 for Linux x86 (64-bit) (November 20, 2012)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "Info3615724325-3295176"->{
  Cell[10334, 286, 444, 7, 78, "Print",
   CellTags->"Info3615724325-3295176"]},
 "Info3606204777-7505383"->{
  Cell[34010, 1078, 474, 8, 182, "Print",
   CellTags->"Info3606204777-7505383"]},
 "Info3606204778-7505383"->{
  Cell[34487, 1088, 512, 9, 200, "Print",
   CellTags->"Info3606204778-7505383"],
  Cell[35002, 1099, 532, 9, 200, "Print",
   CellTags->"Info3606204778-7505383"]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"Info3615724325-3295176", 71990, 2309},
 {"Info3606204777-7505383", 72100, 2312},
 {"Info3606204778-7505383", 72212, 2315}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 183, 4, 30, "Text"],
Cell[743, 26, 419, 11, 55, "Input",
 InitializationCell->True],
Cell[1165, 39, 179, 2, 30, "Text"],
Cell[CellGroupData[{
Cell[1369, 45, 118, 2, 32, "Input"],
Cell[CellGroupData[{
Cell[1512, 51, 8819, 233, 345, "Print"],
Cell[10334, 286, 444, 7, 78, "Print",
 CellTags->"Info3615724325-3295176"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[10827, 299, 101, 1, 78, "Section"],
Cell[10931, 302, 166, 3, 30, "Text"],
Cell[11100, 307, 144, 3, 30, "Text"],
Cell[11247, 312, 389, 10, 32, "Input"],
Cell[11639, 324, 281, 5, 51, "Text"],
Cell[CellGroupData[{
Cell[11945, 333, 191, 5, 32, "Input"],
Cell[12139, 340, 151, 3, 32, "Output"]
}, Open  ]],
Cell[12305, 346, 133, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[12463, 353, 191, 5, 32, "Input"],
Cell[12657, 360, 139, 4, 32, "Output"]
}, Open  ]],
Cell[12811, 367, 250, 5, 49, "Text"],
Cell[13064, 374, 788, 20, 55, "Input"],
Cell[13855, 396, 657, 11, 110, "Text"],
Cell[CellGroupData[{
Cell[14537, 411, 718, 22, 121, "Input"],
Cell[15258, 435, 219, 4, 32, "Output"],
Cell[15480, 441, 236, 5, 32, "Output"],
Cell[15719, 448, 244, 5, 32, "Output"],
Cell[15966, 455, 280, 7, 32, "Output"],
Cell[16249, 464, 242, 5, 32, "Output"]
}, Open  ]],
Cell[16506, 472, 324, 6, 49, "Text"],
Cell[16833, 480, 431, 11, 32, "Input"],
Cell[CellGroupData[{
Cell[17289, 495, 734, 24, 121, "Input"],
Cell[18026, 521, 99, 2, 32, "Output"],
Cell[18128, 525, 117, 3, 32, "Output"],
Cell[18248, 530, 120, 3, 32, "Output"],
Cell[18371, 535, 158, 5, 32, "Output"],
Cell[18532, 542, 120, 3, 32, "Output"]
}, Open  ]],
Cell[18667, 548, 209, 4, 49, "Text"],
Cell[18879, 554, 886, 23, 55, "Input"],
Cell[CellGroupData[{
Cell[19790, 581, 1133, 39, 121, "Input"],
Cell[20926, 622, 195, 4, 32, "Output"],
Cell[21124, 628, 213, 5, 32, "Output"],
Cell[21340, 635, 312, 9, 32, "Output"],
Cell[21655, 646, 314, 9, 32, "Output"],
Cell[21972, 657, 295, 8, 32, "Output"]
}, Open  ]],
Cell[22282, 668, 461, 13, 55, "Input"],
Cell[CellGroupData[{
Cell[22768, 685, 1094, 38, 121, "Input"],
Cell[23865, 725, 97, 2, 32, "Output"],
Cell[23965, 729, 117, 3, 32, "Output"],
Cell[24085, 734, 214, 7, 32, "Output"],
Cell[24302, 743, 218, 7, 32, "Output"],
Cell[24523, 752, 195, 6, 32, "Output"]
}, Open  ]],
Cell[24733, 761, 166, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[24924, 768, 330, 8, 32, "Input"],
Cell[25257, 778, 394, 11, 34, "Output"]
}, Open  ]],
Cell[25666, 792, 138, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[25829, 799, 433, 12, 77, "Input"],
Cell[26265, 813, 154, 3, 32, "Output"],
Cell[26422, 818, 154, 3, 32, "Output"],
Cell[26579, 823, 156, 3, 32, "Output"]
}, Open  ]],
Cell[26750, 829, 124, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[26899, 836, 187, 4, 32, "Input"],
Cell[27089, 842, 130, 3, 32, "Output"]
}, Open  ]],
Cell[27234, 848, 276, 6, 51, "Text"],
Cell[CellGroupData[{
Cell[27535, 858, 407, 11, 55, "Input"],
Cell[27945, 871, 1169, 36, 77, "Output"]
}, Open  ]],
Cell[29129, 910, 173, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[29327, 918, 372, 10, 32, "Input"],
Cell[29702, 930, 379, 11, 32, "Output"]
}, Open  ]],
Cell[30096, 944, 132, 3, 30, "Text"],
Cell[30231, 949, 189, 4, 32, "Input"],
Cell[CellGroupData[{
Cell[30445, 957, 302, 9, 32, "Input"],
Cell[30750, 968, 870, 27, 77, "Output"]
}, Open  ]],
Cell[31635, 998, 187, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[31847, 1006, 448, 14, 32, "Input"],
Cell[32298, 1022, 99, 1, 32, "Output"]
}, Open  ]],
Cell[32412, 1026, 206, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[32643, 1033, 258, 7, 32, "Input"],
Cell[32904, 1042, 73, 1, 32, "Output"]
}, Open  ]],
Cell[32992, 1046, 163, 2, 30, "Text"],
Cell[CellGroupData[{
Cell[33180, 1052, 218, 5, 32, "Input"],
Cell[33401, 1059, 72, 1, 32, "Output"]
}, Open  ]],
Cell[33488, 1063, 231, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[33744, 1070, 241, 4, 77, "Input"],
Cell[CellGroupData[{
Cell[34010, 1078, 474, 8, 182, "Print",
 CellTags->"Info3606204777-7505383"],
Cell[34487, 1088, 512, 9, 200, "Print",
 CellTags->"Info3606204778-7505383"],
Cell[35002, 1099, 532, 9, 200, "Print",
 CellTags->"Info3606204778-7505383"]
}, Open  ]]
}, Open  ]],
Cell[35561, 1112, 110, 2, 30, "Text"]
}, Closed]],
Cell[CellGroupData[{
Cell[35708, 1119, 121, 1, 48, "Section"],
Cell[CellGroupData[{
Cell[35854, 1124, 100, 1, 42, "Subsection"],
Cell[35957, 1127, 191, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[36173, 1135, 241, 5, 32, "Input"],
Cell[36417, 1142, 302, 9, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[36756, 1156, 191, 4, 32, "Input"],
Cell[36950, 1162, 302, 9, 32, "Output"]
}, Open  ]],
Cell[37267, 1174, 210, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[37502, 1182, 199, 4, 32, "Input"],
Cell[37704, 1188, 317, 9, 32, "Output"]
}, Open  ]],
Cell[38036, 1200, 256, 7, 31, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[38329, 1212, 235, 4, 42, "Subsection"],
Cell[38567, 1218, 160, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[38752, 1225, 321, 8, 32, "Input"],
Cell[39076, 1235, 212, 6, 34, "Output"]
}, Open  ]],
Cell[39303, 1244, 220, 5, 30, "Text"],
Cell[CellGroupData[{
Cell[39548, 1253, 173, 4, 32, "Input"],
Cell[39724, 1259, 134, 3, 32, "Output"]
}, Open  ]],
Cell[39873, 1265, 202, 5, 30, "Text"],
Cell[CellGroupData[{
Cell[40100, 1274, 270, 8, 32, "Input"],
Cell[40373, 1284, 220, 6, 37, "Output"]
}, Open  ]],
Cell[40608, 1293, 266, 5, 49, "Text"],
Cell[CellGroupData[{
Cell[40899, 1302, 293, 8, 32, "Input"],
Cell[41195, 1312, 705, 23, 32, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[41949, 1341, 93, 1, 42, "Subsection"],
Cell[42045, 1344, 261, 5, 30, "Text"],
Cell[CellGroupData[{
Cell[42331, 1353, 438, 12, 32, "Input"],
Cell[42772, 1367, 444, 12, 32, "Output"]
}, Open  ]],
Cell[43231, 1382, 769, 15, 170, "Text"],
Cell[44003, 1399, 128, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[44156, 1406, 866, 25, 77, "Input"],
Cell[45025, 1433, 117, 2, 32, "Output"]
}, Open  ]],
Cell[45157, 1438, 143, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[45325, 1445, 215, 4, 32, "Input"],
Cell[45543, 1451, 229, 6, 32, "Output"]
}, Open  ]],
Cell[45787, 1460, 168, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[45980, 1467, 449, 12, 55, "Input"],
Cell[46432, 1481, 291, 6, 32, "Output"]
}, Open  ]],
Cell[46738, 1490, 230, 5, 30, "Text"],
Cell[CellGroupData[{
Cell[46993, 1499, 355, 10, 55, "Input"],
Cell[47351, 1511, 249, 6, 32, "Output"]
}, Open  ]],
Cell[47615, 1520, 324, 6, 51, "Text"],
Cell[CellGroupData[{
Cell[47964, 1530, 613, 17, 32, "Input"],
Cell[48580, 1549, 555, 16, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[49172, 1570, 212, 3, 32, "Input"],
Cell[49387, 1575, 566, 17, 51, "Output"]
}, Open  ]],
Cell[49968, 1595, 382, 7, 68, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[50387, 1607, 102, 1, 43, "Subsection"],
Cell[50492, 1610, 251, 5, 51, "Text"],
Cell[CellGroupData[{
Cell[50768, 1619, 736, 22, 55, "Input"],
Cell[51507, 1643, 864, 26, 72, "Output"]
}, Open  ]],
Cell[52386, 1672, 228, 4, 51, "Text"],
Cell[CellGroupData[{
Cell[52639, 1680, 176, 4, 32, "Input"],
Cell[52818, 1686, 840, 25, 72, "Output"]
}, Open  ]],
Cell[53673, 1714, 163, 3, 31, "Text"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[53885, 1723, 101, 1, 78, "Section"],
Cell[53989, 1726, 321, 6, 49, "Text"],
Cell[54313, 1734, 315, 6, 49, "Text"],
Cell[CellGroupData[{
Cell[54653, 1744, 480, 13, 32, "Input"],
Cell[55136, 1759, 717, 21, 64, "Output"]
}, Open  ]],
Cell[55868, 1783, 1401, 33, 256, "Text"],
Cell[CellGroupData[{
Cell[57294, 1820, 559, 14, 55, "Input"],
Cell[57856, 1836, 470, 12, 33, "Output"]
}, Open  ]],
Cell[58341, 1851, 204, 4, 30, "Text"],
Cell[58548, 1857, 153, 3, 32, "Input"],
Cell[58704, 1862, 182, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[58911, 1870, 504, 13, 55, "Input"],
Cell[59418, 1885, 715, 19, 37, "Output"]
}, Open  ]],
Cell[60148, 1907, 289, 6, 30, "Text"],
Cell[CellGroupData[{
Cell[60462, 1917, 1985, 54, 275, "Input"],
Cell[62450, 1973, 486, 13, 33, "Output"],
Cell[62939, 1988, 454, 12, 33, "Output"],
Cell[63396, 2002, 510, 13, 33, "Output"],
Cell[63909, 2017, 644, 18, 37, "Output"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[64602, 2041, 91, 1, 48, "Section"],
Cell[64696, 2044, 178, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[64899, 2052, 250, 6, 32, "Input"],
Cell[65152, 2060, 73, 1, 32, "Output"]
}, Open  ]],
Cell[65240, 2064, 188, 4, 31, "Text"],
Cell[CellGroupData[{
Cell[65453, 2072, 248, 6, 32, "Input"],
Cell[65704, 2080, 139, 3, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[65880, 2088, 228, 5, 32, "Input"],
Cell[66111, 2095, 122, 2, 32, "Output"]
}, Open  ]],
Cell[66248, 2100, 131, 3, 30, "Text"],
Cell[CellGroupData[{
Cell[66404, 2107, 216, 6, 32, "Input"],
Cell[66623, 2115, 190, 5, 34, "Output"]
}, Open  ]],
Cell[66828, 2123, 182, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[67035, 2131, 165, 4, 32, "Input"],
Cell[67203, 2137, 72, 1, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[67312, 2143, 343, 11, 32, "Input"],
Cell[67658, 2156, 70, 1, 32, "Output"]
}, Open  ]],
Cell[67743, 2160, 206, 4, 49, "Text"],
Cell[CellGroupData[{
Cell[67974, 2168, 360, 9, 55, "Input"],
Cell[68337, 2179, 266, 8, 32, "Output"],
Cell[68606, 2189, 386, 12, 64, "Output"]
}, Open  ]],
Cell[69007, 2204, 236, 4, 49, "Text"],
Cell[69246, 2210, 197, 4, 49, "Text"],
Cell[CellGroupData[{
Cell[69468, 2218, 401, 10, 32, "Input"],
Cell[69872, 2230, 147, 3, 32, "Output"]
}, Open  ]],
Cell[70034, 2236, 201, 4, 31, "Text"],
Cell[CellGroupData[{
Cell[70260, 2244, 131, 2, 32, "Input"],
Cell[70394, 2248, 155, 4, 32, "Output"]
}, Open  ]],
Cell[70564, 2255, 169, 4, 30, "Text"],
Cell[CellGroupData[{
Cell[70758, 2263, 126, 2, 32, "Input"],
Cell[70887, 2267, 70, 1, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[70994, 2273, 127, 2, 32, "Input"],
Cell[71124, 2277, 96, 1, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[71257, 2283, 159, 3, 32, "Input"],
Cell[71419, 2288, 70, 1, 32, "Output"]
}, Open  ]],
Cell[71504, 2292, 147, 3, 30, "Text"]
}, Closed]]
}
]
*)

(* End of internal cache information *)
